# NetworksLab2021
# Описание протокола

Заголовок в 8 бит

- В сообщении от клиента к серверу передается сначала длина сообщения а затем и сообщение как временная зона, имя и сообщение в формате 
<tz>name->message либо клучевое слово file после которого требуется ввести имя файла. tz представленна строкой, например 
'Europe/Moscow'. Файл передается как заголовок длины, потом имя файла и его размер а потом сам файла как поток байт.

- От сервера к клиенту данные пересылаются аналогично, для передачи файла принимается ключевое слово file после чего
вся переданная от пользователя информация записывается в переменные и транслируется ко всем подключенным. При передачи 
простого сообщения из принятого потока достается временная зона и время на сервере записывается в транслирующее всем 
пользователям сообщение измененным в соотствии с временной зоной пользователя.
  
- При запуске сервера на удаленном компьютере возникли проблемы с заголовками, они приходили урезанными, поэтому в сообщении в конце есть спец символы как указатель конца. Теперь, даже если заголовок пришел не полный, сообщение считается и соберется полностью

# Основные классы и функции
Классов нет
В серевере 3 функции: handle, broadcast и receive_connection.

- broadcast просто трансирует сообщение пользователям
- handle обрабатывает все полученные данные
- receive_connection принимает соединение от пользователя

# В клиенте 2 функции

В клиенте 2 функции: receive_message и send_message.

- receive_message принимает сообщение от сервера
- send_message отправляет сообщение на сервер

# Описание проблем с которыми столкнулся
Никаких проблем не возникло, переделать сервер оказалось на удивление просто.

Спец символы были доработаны при помощи UUID генератора.
  ![Отчет](https://user-images.githubusercontent.com/43119772/144394351-c0d9f2be-b7c2-4bfa-bf85-91c8ae9f2686.png)


